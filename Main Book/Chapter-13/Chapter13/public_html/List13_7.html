<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html ng-app="exampleApp">
    <head><title>AnJS Objects </title>
        <link href="css/bootstrap-theme.css" rel="stylesheet" type="text/css"/>
        <link href="css/bootstrap.css" rel="stylesheet" type="text/css"/>
        <script src="js/angular.js" type="text/javascript"></script>
        <script>
            angular.module("exampleApp",[]).controller("simpleCtrl",function($scope,$rootScope){
                    $scope.$on("zipCodeUpdated",function(event,args){
                        $scope[args.type] = args.zipCode;
                    });
                    
                    $scope.setAddress(function (type,zip){
                        $rootScope.$broadcast("zipCodeUpdated",type:type,zipCode:zip);
                    });
                  console.log(("Type: "+type+" "+zip))
                }
                
                $scope.copyAddress = function (){
                    $scope.shippingZip = $scope.billingZip;
                }
            });
      </script>    
    </head>
    <body >
        
    <div class="well" ng-controller="simpleCtrl">
    <h4>Billing Zip code</h4>
    <div class="form-group">
    <input class="form-control" ng-model="zip"/>
    </div>
    <button class="btn btn-primary" ng-click="setAddress('billingZip',zip)">
    Save Billing
    </button>
    </div>
    
    <div class="well" ng-controller="simpleCtrl">
    <h4>Shipping Zip Code</h4>
    <div class="form-group">
    <input class="form-control" ng-model="zip">
    </div>
    <button class="btn btn-primary" ng-click="copyAddress()">Use Billing</button>
    <button class="btn btn-primary" ng-click="setAddress('shippingZip',zip)">Save Shipping</button>
    </div>
        
    </body>
</html>
